Escenas y Transiciones
======================

.. contents::
    :local:

Utilizando la  API del Director
-------------------------------

Como se mencionó antes, una de las tareas principales de
el `Director` es la de manejar la secuencia de las escenas.

Para ello, el director tiene una API::

    director.replace(nueva_escena)

    director.push(nueva_escena)
    director.pop()

Usa :meth:`.Director.replace` para reemplazar la escena actual por una nueva,
y usa :meth:`.Director.push` para agregar una escena nueva a la pila.
La escena anterior será apilada debajo de la nueva.
Puedes quitar una escena de la pila utilizando :meth:`.Director.pop`.

Cuando se agrega o reemplaza una escena, se ejecutan las siguientes acciones::

    # llama a on_exit en la escena anterior
    escena_saliente.on_exit()

    # deshabilitar los handler
    escena_saliente.enable_handlers(False)


    # llama a on_enter() en la 'nueva' escena
    escena_entrante.on_enter()

    # habilita los handler
    escena_entrante.enable_handlers(True)


Cuando una :class:`.Scene` se *ingresa*, hará que se propague el mensaje
*on_enter* a todos los hijos, y los hijos harán lo mismo con los suyos, y así
sucesivamente.

Lo mimso ocurre con el mensaje *on_exit*.


Transiciones
------------

Una forma más agradable de cambiar entre escenas, es la de *decorar* la
nueva escena con una escena *Escena* de *Transición*.

**Técnicamente**, una transición es una escena que realiza un efecto de transición antes
de pasar el control a la nueva escena.

Y **visualmente**, una escena de transición es como las transiciones que se
ven en software de presentaciones como OpenOffice Impress, Apple KeyNote o PowerPoint.

.. image:: transition.png

Ejemplo::

    # importar todas las transiciones
    from cocos.scenes import *

    # usar el método replace de Director
    # usar una transición Fade-Top-Right que dure dos segundos
    director.replace(FadeTRTransition(escena_juegoterminado, duration=2))


    # o, usando 'push' con una transición Flip-X que dure un segundo.
    director.push(FlipX3DTransition(gameover_scene, duration=1))

Lista de las transiciones disponibles:
    - :mod:`.transitions`
